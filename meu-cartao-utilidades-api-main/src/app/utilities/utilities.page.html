<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Utilidades (ViaCEP)</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-item>
    <ion-label position="floating">Digite o CEP (só números)</ion-label>
    <ion-input type="text" [(ngModel)]="cep" placeholder="01001000"></ion-input>
  </ion-item>

  <ion-button expand="block" (click)="buscarCep()">
    Buscar
  </ion-button>

  <div *ngIf="loading" class="ion-text-center ion-margin-top">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <ion-card *ngIf="errorMessage" color="danger" class="ion-text-center">
    <ion-card-content>
      {{ errorMessage }}
    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="endereco">
    <ion-card-header>
      <ion-card-title>Endereço Encontrado</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p><strong>Logradouro:</strong> {{ endereco.logradouro }}</p>
      <p><strong>Bairro:</strong> {{ endereco.bairro }}</p>
      <p><strong>Cidade/UF:</strong> {{ endereco.localidade }} / {{ endereco.uf }}</p>
    </ion-card-content>
  </ion-card>

</ion-content>